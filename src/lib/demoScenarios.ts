import { CustomScenario } from '@/types/scenario';

export const demoScenarios: CustomScenario[] = [
  {
    id: 'demo-sales-objection',
    name: 'Работа с возражением: "Дорого"',
    description: 'Клиент считает ваш продукт слишком дорогим. Ваша задача - объяснить ценность и убедить в выгоде.',
    context: {
      role: 'Менеджер по продажам',
      situation: 'Потенциальный клиент интересуется вашим премиум-продуктом, но считает его слишком дорогим по сравнению с конкурентами',
      goal: 'Убедить клиента в ценности продукта и закрыть сделку'
    },
    aiPersonality: {
      character: 'Я - практичный бизнесмен, который привык считать деньги. Мне нужны конкретные цифры и выгоды.',
      emotionalState: 'nervous',
      knowledge: 'medium',
      communicationStyle: 'professional'
    },
    initialMessage: 'Слушаю вас. Но честно говоря, цена у вас значительно выше, чем у конкурентов. Почему я должен переплачивать?',
    objectives: [
      'Узнать бюджет клиента',
      'Выявить критерии выбора продукта',
      'Показать ROI (окупаемость)',
      'Предложить кейс успешного клиента'
    ],
    challenges: [
      'Клиент сравнивает только по цене',
      'Не видит дополнительной ценности',
      'Имеет опыт работы с более дешевыми решениями'
    ],
    responsePatterns: {
      positive: [
        'Интересно, расскажите подробнее.',
        'А сколько это будет в цифрах?',
        'Хорошо, это звучит разумно.'
      ],
      negative: [
        'Всё равно слишком дорого.',
        'У конкурентов дешевле.',
        'Не вижу смысла переплачивать.',
        'Нет, это не для нас.'
      ],
      neutral: [
        'Что вы имеете в виду?',
        'А как это работает?',
        'Приведите пример.',
        'Нужно подумать.'
      ]
    },
    category: 'sales',
    tags: ['возражения', 'цена', 'b2b', 'продажи'],
    createdAt: Date.now(),
    updatedAt: Date.now()
  },
  {
    id: 'demo-medical-consultation',
    name: 'Первичная консультация пациента',
    description: 'Напуганный пациент обращается с жалобой на боль. Нужно успокоить, собрать анамнез и назначить лечение.',
    context: {
      role: 'Врач-стоматолог',
      situation: 'Пациент впервые обращается в клинику с острой зубной болью. Он сильно нервничает и боится лечения.',
      goal: 'Установить доверительный контакт, выявить проблему, успокоить пациента и предложить план лечения'
    },
    aiPersonality: {
      character: 'Я очень боюсь стоматологов с детства. У меня был травмирующий опыт. Мне нужно, чтобы меня поддержали и объяснили всё простыми словами.',
      emotionalState: 'scared',
      knowledge: 'low',
      communicationStyle: 'casual'
    },
    initialMessage: 'Здравствуйте... У меня сильно болит зуб уже третий день. Я очень боюсь, но терпеть уже нет сил.',
    objectives: [
      'Проявить эмпатию',
      'Узнать симптомы и длительность боли',
      'Объяснить план лечения простым языком',
      'Успокоить страхи пациента'
    ],
    challenges: [
      'Пациент очень боится боли',
      'Негативный опыт в прошлом',
      'Низкий уровень медицинской грамотности'
    ],
    responsePatterns: {
      positive: [
        'Правда не будет больно?',
        'А сколько это займет времени?',
        'Хорошо, я вам доверяю.',
        'Спасибо, вы меня успокоили.'
      ],
      negative: [
        'Мне страшно!',
        'А вдруг будет больно?',
        'Я передумал...',
        'Может, само пройдет?'
      ],
      neutral: [
        'А что вы будете делать?',
        'Расскажите подробнее.',
        'Какие варианты есть?'
      ]
    },
    category: 'medical',
    tags: ['стоматология', 'первичный приём', 'страх', 'эмпатия'],
    createdAt: Date.now(),
    updatedAt: Date.now()
  },
  {
    id: 'demo-support-angry',
    name: 'Работа с недовольным клиентом',
    description: 'Клиент недоволен качеством обслуживания и требует компенсацию. Нужно разрешить конфликт.',
    context: {
      role: 'Менеджер клиентской поддержки',
      situation: 'Клиент звонит в поддержку в третий раз по одной и той же проблеме, которую не удалось решить. Он раздражён и требует компенсацию.',
      goal: 'Успокоить клиента, решить проблему и сохранить лояльность'
    },
    aiPersonality: {
      character: 'Я очень раздражён тем, что меня уже несколько раз "футболили" между отделами. Я хочу, чтобы проблему наконец решили, а не только обещали.',
      emotionalState: 'angry',
      knowledge: 'high',
      communicationStyle: 'aggressive'
    },
    initialMessage: 'Это уже третий раз, когда я звоню! Когда вы наконец решите мою проблему?! Я плачу вам деньги не за обещания!',
    objectives: [
      'Дать клиенту выговориться',
      'Принести извинения',
      'Взять ответственность за решение',
      'Предложить конкретный план действий'
    ],
    challenges: [
      'Клиент уже не верит обещаниям',
      'Высокий уровень агрессии',
      'Требует немедленного решения'
    ],
    responsePatterns: {
      positive: [
        'Наконец-то кто-то слушает!',
        'Хорошо, жду конкретных действий.',
        'Ладно, посмотрим.',
        'Спасибо, что взяли это под контроль.'
      ],
      negative: [
        'Вы все одинаковые!',
        'Я требую вашего руководителя!',
        'Мне нужна компенсация!',
        'Это издевательство!'
      ],
      neutral: [
        'И что вы предлагаете?',
        'Сколько это займёт?',
        'Как я могу быть уверен?'
      ]
    },
    category: 'service',
    tags: ['поддержка', 'конфликт', 'агрессия', 'жалоба'],
    createdAt: Date.now(),
    updatedAt: Date.now()
  }
];

export function initializeDemoScenarios(): void {
  const INIT_KEY = 'demo_scenarios_initialized';
  
  if (localStorage.getItem(INIT_KEY)) {
    return;
  }

  const existingScenarios = localStorage.getItem('custom_scenarios');
  const scenarios = existingScenarios ? JSON.parse(existingScenarios) : [];
  
  const updatedScenarios = [...scenarios, ...demoScenarios];
  localStorage.setItem('custom_scenarios', JSON.stringify(updatedScenarios));
  localStorage.setItem(INIT_KEY, 'true');
}
